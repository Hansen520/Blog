<!DOCTYPE html>
<html>
<head>
    <title>获取视频每一帧</title>
</head>
<body>
    <video id="video" width="640" height="360" controls>
        <source src="video.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <canvas id="canvas" width="640" height="360"></canvas>
    <script>
        var video = document.getElementById('video');
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');

        video.addEventListener('play', function() {
            var $this = this; // cache
            (function loop() {
                if (!$this.paused && !$this.ended) {
                    ctx.drawImage($this, 0, 0, 640, 360);
                    setTimeout(loop, 1000 / 30); // drawing at 30fps
                }
            })();
        }, 0);
    </script>
</body>
</html>